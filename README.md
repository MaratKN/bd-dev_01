# Домашнее задание к занятию 1. «Типы и структура СУБД»

### Задача 1

**Архитектор ПО решил проконсультироваться у вас, какой тип БД лучше выбрать для хранения определённых данных.**

**Он вам предоставил следующие типы сущностей, которые нужно будет хранить в БД:**

* электронные чеки в json-виде (документоориентированные NoSQL СУБД: MongoDB и Couchbase, к примеру, так как они имеют нативную поддержку json)
* склады и автомобильные дороги для логистической компании (графовые СУБД: Amazon Neptune и Neo4j, так как позволяют эффективно моделировать взаимосвязи)
* генеалогические деревья (графовые СУБД по той же причине, а также иерархические СУБД: IMS, к примеру, так как иерархические модели как раз имеют древовидную структуру)
* кэш идентификаторов клиентов с ограниченным временем жизни для движка аутенфикаци (резидентные СУБД: Memcached и Redis, к примеру, так как обеспечивают лучшее быстродействие, чем СУБД, работающие с базами данных на устройствах постоянного хранения)
* отношения клиент-покупка для интернет-магазина (реляционные СУБД: MySQL, PostgreSQL, так как они имеют строгую структуру таблиц и отношений, которая может быть использована для моделирования и отслеживания транзакций и взаимосвязей между клиентами и их покупками. Кроме того, они поддерживают транзакции, что критически важно для обработки покупок в интернет-магазинах)

**Выберите подходящие типы СУБД для каждой сущности и объясните свой выбор.**

### Задача 2

**Вы создали распределённое высоконагруженное приложение и хотите классифицировать его согласно CAP-теореме. Какой классификации по CAP-теореме соответствует ваша система, если (каждый пункт — это отдельная реализация вашей системы и для каждого пункта нужно привести классификацию):**

* данные записываются на все узлы с задержкой до часа (асинхронная запись);

Согласно CAP-теореме, данная реализация соответствует классификации AP (Availability and Partition Tolerance), так как она обеспечивает доступность данных и устойчивость к разделению сети, но может жертвовать согласованностью в случае разделения кластеров.

Согласно PACELC-теореме, данная реализация может быть классифицирована как PA/EL (Partition Availability / Eventual Consistency and Low Latency), так как система обеспечивает устойчивость к разделению, доступность в случае сетевых сбоев, и возможность обеспечить непрерывность согласованности и низкую задержку.

* при сетевых сбоях система может разделиться на 2 раздельных кластера;

Согласно CAP-теореме, данная реализация соответствует классификации как "частично согласованная" (Partially Consistent) система. Это означает, что при сетевых сбоях система может потерять целостность данных между разными кластерами, но при этом продолжит обслуживать запросы пользователей.

Согласно PACELC-теореме, данная реализация может быть классифицирована как PA/EL (Partition Availability / Eventual Consistency and Low Latency), так как система обеспечивает устойчивость к разделению, доступность в случае сетевых сбоев, и возможность обеспечить непрерывность согласованности и низкую задержку.

* система может не прислать корректный ответ или сбросить соединение.

Согласно CAP-теореме, данная реализация соответствует классификации CP (Consistency and Partition Tolerance), так как она обеспечивает согласованность данных и устойчивость к разделению сети, но может жертвовать доступностью в случае сбоев соединения.

Согласно PACELC-теореме, данная реализация может быть классифицирована как PA/EL (Partition Availability / Eventual Consistency and Low Latency), так как система обеспечивает устойчивость к разделению, доступность в случае сбоев соединения, и возможность обеспечить непрерывность согласованности и низкую задержку.

**Согласно PACELC-теореме как бы вы классифицировали эти реализации?**

### Задача 3

**Могут ли в одной системе сочетаться принципы BASE и ACID? Почему?**

Принципы BASE (Basically Available, Soft state, Eventually consistent) и ACID (Atomicity, Consistency, Isolation, Durability) представляют собой различные подходы к обеспечению целостности данных в распределенных системах. 

BASE ориентирован на обеспечение доступности и мягкого состояния данных, допуская временное несоответствие данных (eventual consistency), в то время как ACID стремится к обеспечению атомарности, согласованности, изолированности и долговечности данных.

В одной системе можно использовать элементы обоих подходов, но в целом они представляют собой противоположные концепции. Например, можно реализовать ACID-транзакции внутри отдельных компонентов системы, но при этом использовать BASE для работы с распределенными данными в целом.

### Задача 4

**Вам дали задачу написать системное решение, основой которого бы послужили:**

* фиксация некоторых значений с временем жизни,
* реакция на истечение таймаута.

**Вы слышали о key-value-хранилище, которое имеет механизм Pub/Sub. Что это за система? Какие минусы выбора этой системы?**

Key-value-хранилище с механизмом Pub/Sub - это система, которая предоставляет возможность хранить данные в виде пар ключ-значение и подписываться на определенные события, которые происходят в хранилище. Пример: Redis. 

Минусы Redis:

* высокие требования к оперативной памяти сервера
* консистентность данных - в случае отказа сервера, данные из оперативной памяти будут утеряны и сохранятся только данные 
с последней синхронизации с диском
* отсутствует разграничение прав доступа по пользователям.
* отсутствует поддержка языка SQL
* экземпляр БД не маштабируется
* работает только на одном ядре процессора в однопоточном режиме